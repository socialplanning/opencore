<tal:macro metal:define-macro="project_row">
  <tal:var define="proj_id proj_id | options/proj_id;
                   projinfo projinfo | options/projinfo;
                   ">
    <tr class="" tal:attributes="id string:mship_${proj_id}">
      <td><input type="checkbox" name="check:list" tal:attributes="value proj_id" /></td>
      <td class="oc-dataTable-row-title">
        <a href=""
           tal:attributes="href string:${view/portal_url}/projects/${proj_id}"
           tal:content="projinfo/title">
          Animal Campaign for a poor little sick kittie named Fatty
        </a>
      </td>
      <tal:pending-role tal:condition="python: projinfo['is_pending']">
        <td class="oc-dataTable-row-title"
            tal:content="string:waiting approval"
            />
      </tal:pending-role>
      <tal:active-role tal:condition="python: not projinfo['is_pending']">
        <td class="oc-dataTable-row-title"
            tal:content="python:view.pretty_role(projinfo['role'])"
            />
      </tal:active-role>
      <td id="" class="">
        <span tal:replace="projinfo/since" />
      </td>
      <td id="" class="">
        <div class="oc-js-liveEdit"
               tal:define="listed python: projinfo['listed']"
               >
          <div class="oc-js-liveEdit-value oc-js-liveEdit_showForm oc-liveEdit-value oc-directEdit"
               tal:content="python: listed and 'Yes' or 'No'"
>
          </div><!-- end .oc-js-liveEdit -->
          <div class="oc-js-liveEdit-editForm oc-liveEdit-editForm oc-js-actionSelect">
            <select tal:attributes="name string:${proj_id}_listing">
                      <option value="public"
                              tal:attributes="selected listed">Yes</option>
                      <option value="private"
                              tal:attributes="selected not: listed">No</option>
                
              </select>
              <input type="submit" class="" value="Go"
                           tal:attributes="name string:task|${proj_id}|change-listing" />
          </div><!-- end .oc-js-liveEdit-editForm -->

        </div><!-- end .oc-js-liveEdit .oc-js-actionSelect -->
      </td>
      <td>
        <ul class="oc-actions oc-dataTable-row-actions"
            tal:condition="python:not view._is_only_admin(proj_id)"
            >
          <li>
            <a class="oc-actionLink oc-js-actionLink"
               tal:attributes="href string:${context/absolute_url}/${view/name}?task|${proj_id}|leave=Leave">Leave</a>
          </li>
        </ul>
      </td>
    </tr>
  </tal:var>
</tal:macro>
